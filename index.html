<!DOCTYPE html>
<html lang="pt-br">
<head>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#007aff">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>App Estufa</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
}

body{
    background:#f2f4f8;
}

#app{
    min-height:100vh;
    display:flex;
    flex-direction:column;
}

.auth-container{
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    height:100vh;
    padding:20px;
}

.auth-box{
    width:100%;
    max-width:400px;
}

.auth-box h2{
    margin-bottom:25px;
    font-size:26px;
}

input{
    width:100%;
    padding:14px;
    margin-bottom:15px;
    border-radius:12px;
    border:1px solid #ddd;
    font-size:16px;
}

input:focus{
    outline:none;
    border-color:#007aff;
}

button{
    width:100%;
    padding:14px;
    border:none;
    border-radius:12px;
    background:#007aff;
    color:white;
    font-size:16px;
}

button:active{
    transform:scale(0.98);
}

.switch{
    margin-top:15px;
    text-align:center;
    font-size:14px;
}

.switch span{
    color:#007aff;
}

.home{
    flex:1;
    display:flex;
    flex-direction:column;
}

.topbar{
    height:60px;
    background:white;
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:0 16px;
    box-shadow:0 2px 8px rgba(0,0,0,0.05);
}

.topbar h3{
    font-size:18px;
}

.profile{
    position:relative;
}

.profile-icon{
    width:38px;
    height:38px;
    border-radius:50%;
    background:#007aff;
    color:white;
    display:flex;
    justify-content:center;
    align-items:center;
    font-weight:bold;
}

.dropdown{
    position:absolute;
    top:50px;
    right:0;
    width:200px;
    background:white;
    border-radius:12px;
    box-shadow:0 5px 20px rgba(0,0,0,0.1);
    display:none;
    overflow:hidden;
}

.dropdown div{
    padding:12px;
    font-size:14px;
}

.dropdown div:hover{
    background:#f5f5f5;
}

.content{
    flex:1;
    padding:20px;
}

.product-card{
    background:white;
    border-radius:16px;
    overflow:hidden;
    box-shadow:0 8px 20px rgba(0,0,0,0.08);
}

.product-card img{
    width:100%;
    height:100%;
    object-fit:cover;
}

.product-card h3{
    padding:16px;
    font-size:18px;
}

@media(min-width:768px){
    .content{
        max-width:500px;
        margin:0 auto;
    }
}
</style>
</head>
<body>

<div id="app"></div>

<script>
const app = document.getElementById("app");

function showLogin(){
    app.innerHTML = `
        <div class="auth-container">
            <div class="auth-box">
                <h2>Login</h2>
                <input type="email" id="email" placeholder="Email">
                <input type="password" id="password" placeholder="Senha">
                <button onclick="login()">Entrar</button>
                <div class="switch">
                    Não tem conta? 
                    <span onclick="showRegister()">Criar conta</span>
                </div>
            </div>
        </div>
    `;
}

function showRegister(){
    app.innerHTML = `
        <div class="auth-container">
            <div class="auth-box">
                <h2>Criar Conta</h2>
                <input type="email" id="email" placeholder="Email">
                <input type="password" id="password" placeholder="Senha">
                <button onclick="register()">Cadastrar</button>
                <div class="switch">
                    Já tem conta? 
                    <span onclick="showLogin()">Login</span>
                </div>
            </div>
        </div>
    `;
}

function showHome(email){
    app.innerHTML = `
        <div class="home">
            <div class="topbar">
                <h3>Estufa App</h3>
                <div class="profile">
                    <div class="profile-icon" onclick="toggleDropdown()">
                        ${email[0].toUpperCase()}
                    </div>
                    <div class="dropdown" id="dropdown">
                        <div><strong>${email}</strong></div>
                        <div onclick="editProfile()">Editar Perfil</div>
                        <div onclick="logout()">Sair</div>
                    </div>
                </div>
            </div>

            <div class="content">
                <div class="product-card">
                    <img src="https://novatecnica.com.br/arquivos/produtos/imagens/capa/nt-532-estufa-de-secagem-e-esterilizacao-com-circulacao-forcada-41-litros.png">
                    <h3>Estufa de secagem e esterilização com circulação</h3>
                </div>
            </div>
        </div>
    `;
}

function toggleDropdown(){
    const dropdown = document.getElementById("dropdown");
    dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
}

function register(){
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    if(!email || !password){
        alert("Preencha todos os campos");
        return;
    }

    localStorage.setItem("user", JSON.stringify({email, password}));
    showLogin();
}

function login(){
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    const saved = JSON.parse(localStorage.getItem("user"));

    if(!saved || email !== saved.email || password !== saved.password){
        alert("Email ou senha inválidos");
        return;
    }

    showHome(email);
}

function editProfile(){
    alert("Tela de edição pode ser implementada aqui.");
}

function logout(){
    showLogin();
}

showLogin();
</script>

</body>
</html>